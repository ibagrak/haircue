<!DOCTYPE html>
<html xmlns:og="http://ogp.me/ns" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en" manifest="hackbook.manifest">
  <head>
    <title>Capture Photo</title>

    <!-- See https://developers.facebook.com/docs/opengraph/ -->
    <meta property="og:title" content="HairCue" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://apps.facebook.com/mobile-start/" />
    <meta property="og:site_name" content="HairCue" />
    <meta property="og:image" content="http://www.facebookmobileweb.com/hackbook/img/facebook_icon_large.png"/>
    <meta property="fb:admins" content="20901205" />
  
    <!-- See http://developer.apple.com/library/safari/#documentation/appleapplications/reference/SafariHTMLRef/Articles/MetaTags.html -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  
    <!-- See https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html -->
    <link rel="apple-touch-icon" href="img/iphone_icon.png" />
    <link rel="apple-touch-startup-image" href="img/iphone_splash.png" />
    <link rel="apple-touch-icon-precomposed" href="img/iphone_icon.png" />
  
    <!-- See http://davidbcalhoun.com/2010/viewport-metatag for information on the viewport tag. -->
    <meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.css" />
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>

    <link rel="stylesheet" type="text/css" href="css/style.css">
    
    <script type="text/javascript" charset="utf-8">

    var pictureSource;   // picture source
    var destinationType; // sets the format of returned value 

    // Wait for Cordova to connect with the device
    //
    document.addEventListener("deviceready",onDeviceReady,false);

    // Cordova is ready to be used!
    //
    function onDeviceReady() {
        pictureSource=navigator.camera.PictureSourceType;
        destinationType=navigator.camera.DestinationType;
    }

    // Called when a photo is successfully retrieved
    //
    function onPhotoDataSuccess(imageData) {
      // Uncomment to view the base64 encoded image data
      // console.log(imageData);

      // Get image handle
      //
      var smallImage = document.getElementById('smallImage');

      // Unhide image elements
      //
      smallImage.style.display = 'block';

      // Show the captured photo
      // The inline CSS rules are used to resize the image
      //
      smallImage.src = "data:image/jpeg;base64," + imageData;
    }

    // Called when a photo is successfully retrieved
    //
    function onPhotoURISuccess(imageURI) {
      // Uncomment to view the image file URI 
      // console.log(imageURI);

      // Get image handle
      //
      var largeImage = document.getElementById('largeImage');

      // Unhide image elements
      //
      largeImage.style.display = 'block';

      // Show the captured photo
      // The inline CSS rules are used to resize the image
      //
      largeImage.src = imageURI;
    }

    // A button will call this function
    //
    function capturePhoto() {
      // Take picture using device camera and retrieve image as base64-encoded string
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,
        destinationType: destinationType.DATA_URL });
    }

    // A button will call this function
    //
    function capturePhotoEdit() {
      // Take picture using device camera, allow edit, and retrieve image as base64-encoded string  
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true,
        destinationType: destinationType.DATA_URL });
    }

    // A button will call this function
    //
    function getPhoto(source) {
      // Retrieve image file location from specified source
      navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
        destinationType: destinationType.FILE_URI,
        sourceType: source });
    }

    // Called if something bad happens.
    // 
    function onFail(message) {
      alert('Failed because: ' + message);
    }

    </script>
  </head>
  <body>
  <div id="splash" data-role="page"> 
    <div style="margin:0 auto;
margin-left:auto;
margin-right:auto;
align:center;
margin-top: 100px;
text-align:center;" data-role="content">
    <a href="#me"><img style="height:168px" src="img/hair-styles.jpg"/></a>
    <h1>HairCue</h1>
    </div> 
    
  </div> 
  
  <div id="me" data-role="page">
    <div data-role="header" data-id="foo1" data-position="fixed" data-theme="b">
      <h1 class="ui-title" role="heading">HairCue</h1>
      <div data-role="navbar" data-iconpos="left">
        <ul>
          <li><a href="#me" data-icon="star">Hair Diary</a></li>
          <li><a href="#camera" data-icon="plus">New Haircut</a></li>
          <li><a href="#network" data-icon="search">Friends' Hair</a></li>
        </ul>
      </div><!-- /navbar --><!-- /header -->
    </div>
    
    <div data-role="content"> 
      
    </div><!-- /content -->
  </div>
  
  <div id="camera" data-role="page">
    <div data-role="header" data-id="foo1" data-position="fixed" data-theme="b">
      <h1 class="ui-title" role="heading">HairCue</h1>
      <div data-role="navbar" data-iconpos="left">
        <ul>
          <li><a href="#me" data-icon="star">Hair Diary</a></li>
          <li><a href="#camera" data-icon="plus">New Haircut</a></li>
          <li><a href="#network" data-icon="search">Friends' Hair</a></li>
        </ul>
      </div><!-- /navbar --><!-- /header -->
    </div>
    
    <div data-role="content"> 
      <div class="ui-grid-b">
          <div class="ui-block-a"><a data-role="button" data-theme="c"><img style="width:50px" src="img/front.png"/><br>Front</a></div>
          <div class="ui-block-b"><a data-role="button" data-theme="c"><img style="width:50px" src="img/side.png"/><br>Side</a></div>
          <div class="ui-block-c"><a data-role="button" data-theme="c"><img style="width:50px" src="img/back.png"/><br>Badck</a></div>
      </div>
      <div class="ui-grid-solo">
          <div class="ui-block-a"><button style="min-height:100px;" type="submit" data-theme="c">Location</button></div>
      </div>
    </div><!-- /content -->
  </div>
  
<!--     <button onclick="capturePhoto();">Capture Photo</button> <br> -->
<!--     <button onclick="capturePhotoEdit();">Capture Editable Photo</button> <br> -->
<!--     <button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">From Photo Library</button><br> -->
<!--     <button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">From Photo Album</button><br> -->
<!--     <img style="display:none;width:60px;height:60px;" id="smallImage" src="" /> -->
<!--     <img style="display:none;" id="largeImage" src="" /> -->
    <!-- This initializes the Facebook JS SDK. -->
    <div id="fb-root"></div>
    <!--<script src=" http://connect.facebook.net/en_US/all.js"></script>-->
    <script src="cordova-1.8.1.js"></script>
    <!-- cordova facebook plugin -->
    <script src="cdv-plugin-fb-connect.js"></script>
    <!-- facebook js sdk -->
    <script src="facebook_js_sdk.js"></script>
  
<!--     <div id="header"> -->
<!--       <div id="back-link" onclick="openPage('root')"><div id="back">&lt; Back</div></div> -->
<!--       <div id="title">Title</div> -->
  
<!--       <div id="right-block"> -->
<!--         <div class="show_when_not_connected"> -->
<!--           <a onclick="promptLogin()" class="login-button">  -->
<!--             <span>Login</span> -->
<!--           </a> -->
<!--         </div> -->
<!--       </div> -->
<!--     </div> -->
  
<!--     <div id="action"> -->
<!--       <div id="loading-icon"></div> -->
    
<!--       <div id="msg"></div> -->
<!--     </div> -->
  
<!--     Page: Homepage -->
<!--     <div id="page-root" class="page"> -->
<!--         <div class="show_when_connected"> -->
<!--           <div id="welcome"><img id="user-picture" /><br /><span id="user-name"></span></div> -->
<!--         </div> -->
  
<!--        <ul> -->
<!--           <li class="menu-item" onclick="openPage('Login');">Login and Permissions</li> -->
<!--           <li class="menu-item" onclick="openPage('Requests');">Requests</li> -->
<!--           <li class="menu-item" onclick="openPage('News-Feed');">News Feed</li> -->
<!--           <li class="menu-item" onclick="openPage('Graph-API');">Graph API</li> -->
<!--           <li class="menu-item" onclick="openPage('Credits');" id="credits-button">Credits</li>
<!--           <li class="menu-item" onclick="openPage('Social-Plugins');">Social Plugins</li> -->  -->
<!--       </ul> -->
<!--       <div id="like-button"><fb:like url="http://www.cnn.com/" width="275"></fb:like></div> -->
<!--     </div> -->
  
<!--     Page: Login and Permissions -->
<!--     <div id="page-Login" class="page">  -->
<!--       <p id="main-desc"> -->
<!--         Facebook Platform uses the OAuth 2.0 protocol for logging a user into your app. -->
<!--         The Login button in the top right of this app, shown when you're logged out, is a good example.<br /><br /> -->
<!--         <strong>Check out the mobile web app tutorial at <a href="http://developers.facebook.com/docs/mobile/web/build//">developers.facebook.com/docs/mobile/web/build/</a></strong> -->
<!--       </p> -->
        
<!--       <div class="section"> -->
<!--         <div class="show_when_not_connected"> -->
<!--           <h1>Logging the user in</h1> -->
<!--           <p> -->
<!--             If a user visit your site directly, you will need to ask them to login with Facebook. -->
<!--           </p> -->
<!--         </div> -->
<!--         <div class="show_when_connected"> -->
<!--           <h1>Logging the user out</h1> -->
<!--           <p> -->
<!--             You should include a button to enable the user to log out.  Also, you can include a button so that the user can uninstall your app. -->
<!--           </p> -->
<!--         </div> -->
        
<!--         <div class="show_when_not_connected"> -->
<!--           <div id="login_button" class="button" onclick="promptLogin()" />Login using Facebook</div> -->
<!--         </div> -->
<!--         <div class="show_when_connected"> -->
<!--           <div id="login_button" class="button" onclick="logout()" />Logout</div> -->
<!--           <div id="login_button" class="button" onclick="uninstallApp()" />Uninstall app</div> -->
<!--         </div> -->
<!--       </div> -->
    
<!--       <div class="section"> -->
<!--         <h1>Asking for extended permissions</h1> -->
<!--         <p> -->
<!--           If your app needs more than this basic information to function, you must request specific permissions from the user. -->
<!--           For example, you might prompt the user to grant access to their Likes in order to recommend related content for them. -->
<!--         </p> -->
        
<!--         <div id="extended_permission_button" class="button button-requires-connect" onclick="promptExtendedPermissions()" />Grant the 'user_likes' permission</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--       </div> -->
<!--     </div> -->
    
<!--     Page: Requests -->
<!--     <div id="page-Requests" class="page">  -->
<!--       <p id="main-desc"> -->
<!--         Requests allows the user to invite their friends to the app, or to re-engage their friends so they come back to your app.   -->
<!--         Friends receive requests in Notifications on Facebook. -->
<!--         <br /><br /> -->
<!--         <strong>Check out the mobile web app tutorial at <a href="http://developers.facebook.com/docs/mobile/web/build//">developers.facebook.com/docs/mobile/web/build/</a></strong> -->
<!--       </p> -->
      
<!--       <div class="section"> -->
<!--         <h1>Request</h1> -->
<!--         <p> -->
<!--           If you show the request dialog with no friend suggestions, it will automatically show friends that are using your app, as well as friends that have already used your app. -->
<!--         </p> -->
<!--         <div id="request_button" class="button" onclick="sendRequestBoth()" />Send request</div> -->
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Invite friends not using app</h1> -->
<!--         <p> -->
<!--           The user can invite their friends that have not started using your application yet.  This will help grow your mobile website virally. -->
<!--         </p> -->
        
<!--         <div id="request_button" class="button button-requires-connect" onclick="sendRequestInvite()" />Send invite</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Request to app friends</h1> -->
<!--         <p> -->
<!--           If a friend of the active user needs to take an action in your mobile web app, you can prompt them to send a request.   -->
<!--           This can be used for re-engagement, like telling a friend it's their turn in a board game. -->
<!--         </p> -->
<!--         <div id="request_button" class="button button-requires-connect" onclick="sendRequest()" />Send request</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Request to targeted friend</h1> -->
<!--         <p> -->
<!--           If the user's friends need to take an action in your mobile website, you can prompt them to send a request.   -->
<!--           This can be used for things like telling a friend it is their turn in a board game. -->
<!--         </p> -->
<!--         <div id="request_button" class="button button-requires-connect" onclick="sendRequestSingle()" />Send request</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--       </div> -->
<!--     </div> -->
    
<!--     Page: News Feed -->
<!--     <div id="page-News-Feed" class="page">  -->
<!--       <p id="main-desc"> -->
<!--         Your app can prompt users to share on their own wall or their friend's wall.   -->
<!--         <br /><br /> -->
<!--         <strong>Check out the mobile web app tutorial at <a href="http://developers.facebook.com/docs/mobile/web/build//">developers.facebook.com/docs/mobile/web/build/</a></strong> -->
<!--       </p> -->
      
<!--       <div class="section"> -->
<!--         <h1>Publishing to the user's wall</h1> -->
<!--         <p> -->
<!--           This allows a user to post something to their own Wall, which means it will also appear in all of their friends' News Feeds on Facebook. -->
<!--         </p> -->
        
<!--         <div id="publish_button" class="button" onclick="publishStory()" />Publish to your wall</div> -->
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Publish to a friend's wall</h1> -->
<!--         <p> -->
<!--           This allows a user to post something to their friend's Wall, which means it will also appear in all of their mutual friends' News Feeds on Facebook. -->
<!--         </p> -->
        
<!--         <div id="publish_button" class="button button-requires-connect" onclick="publishStoryFriend()" />Publish to friend's wall</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--       </div> -->
<!--     </div> -->
    
<!--     Page: Graph API -->
<!--     <div id="page-Graph-API" class="page">  -->
<!--       <p id="main-desc"> -->
<!--         The Graph API enables you to read and write data to Facebook. -->
<!--         You can utilize what the user has liked, friends, photos, events, as well as most of the data that's available on Facebook.<br /><br /> -->
<!--         <strong>Check out the mobile web app tutorial at <a href="http://developers.facebook.com/docs/mobile/web/build//">developers.facebook.com/docs/mobile/web/build/</a></strong> -->
<!--       </p> -->
      
<!--       <div class="section"> -->
<!--         <h1>Get user's basic information</h1> -->
<!--         <p> -->
<!--           You can fetch the user's profile picture and name in order to personalize the experience for them. -->
<!--         </p> -->
        
<!--         <div id="user-info"></div> -->
    
<!--         <div class="button button-requires-connect" onclick="getUserBasicInfo();hideButton(this);" />Get your information</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Get user's friends</h1> -->
<!--         <p> -->
<!--           To make your mobile web app social, you can fetch their friends' information like profile pictures and names. -->
<!--         </p> -->
        
<!--         <div id="user-friends"></div> -->
        
<!--         <div class="button button-requires-connect" onclick="getUserFriends();hideButton(this);" />Get your friends</div> -->
        
<!--         <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
        
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Get user's recent check-ins</h1> -->
<!--         <p> -->
<!--           You can fetch fetch their previous Facebook Places check-ins. -->
<!--         </p> -->
        
<!--         <div id="checkins"></div> -->
    
<!--         <div class="show_when_not_permissioned"> -->
<!--           <div class="button button-requires-connect" onclick="promptCheckInPermission()" />Grant check-in permission</div> -->
          
<!--           <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--         </div> -->
        
<!--         <div class="show_when_permissioned"> -->
<!--           <div class="button" onclick="getCheckIns();hideButton(this);"/>Get past check-ins</div> -->
<!--         </div> -->
<!--       </div> -->
      
<!--       <div class="section"> -->
<!--         <h1>Check the user into a place</h1> -->
<!--         <p> -->
<!--           You can fetch Places near the user's current location and check the user in. -->
<!--         </p> -->
         
<!--         <div id="locations-nearby"></div> -->
    
<!--         <div class="show_when_not_permissioned"> -->
<!--           <div class="button button-requires-connect" onclick="promptCheckInPermission()" />Grant check-in permission</div> -->
          
<!--           <div class="info-requires-connect">You need to login before you can use this functionality.</div> -->
<!--         </div> -->
        
<!--         <div class="show_when_permissioned"> -->
<!--           <div class="button" onclick="getNearby();hideButton(this);" />Find nearby locations</div> -->
<!--         </div> -->
<!--       </div> -->
<!--     </div> -->
  
  <!--<script src="js/_config.js"></script>-->
  <script src="js/ui.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/feed.js"></script>
  <script src="js/graph_api.js"></script>
  <script src="js/requests.js"></script>
  <!--<script src="js/credits.js"></script>-->
  
  <script>
    if ((typeof Cordova == 'undefined') || (typeof cordova == 'undefined')) alert('Cordova variable does not exist. Check that you have included cordova.js correctly');
    if (typeof CDV == 'undefined') alert('CDV variable does not exist. Check that you have included pg-plugin-fb-connect.js correctly');
    if (typeof FB == 'undefined') alert('FB variable does not exist. Check that you have included the Facebook JS SDK file.');
    
    document.addEventListener('deviceready', function() {
                              try {
                              //alert('Device is ready! Make sure you set your app_id below this alert.');
                              FB.init({ appId: "391727740874548", nativeInterface: CDV.FB, useCachedDialogs: false });
                              } catch (e) {
                              alert(e);
                              }
                              }, false);
  </script>    
  </body>
</html>